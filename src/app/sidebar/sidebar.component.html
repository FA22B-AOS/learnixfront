<div class="sidebar" #sidebar>
  <div class="nav-container">
    <div class="logo-details">
      <a routerLink="">
        <i class="bx bxs-bolt-circle"></i>
        <span class="logo_name">LEARNIX</span>
      </a>
    </div>

    <ul class="nav-links">
      <li>
        <a routerLink="" (click)="setActiveChild('Dashboard')">
          <i class="bx bx-grid-alt"></i>
          <span class="link_name">Dashboard</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="" (click)="setActiveChild('Dashboard')">Dashboard</a></li>
        </ul>
      </li>
      <li>
        <div class="icon-link">
          <a routerLink="/lectionlist" (click)="setActiveChild('Lections')">
            <i class="bx bx-collection"></i>
            <span class="link_name">Lections</span>
          </a>
          <i class="bx bxs-chevron-down arrow" #arrow></i>
        </div>
        <div>

        </div>
        <ul class="sub-menu">
          <li><a class="link_name" routerLink="lectionlist" (click)="setActiveChild('Lections')">Lections</a></li>
          <ng-container *ngFor="let lection of lections$ | async">
            <li><a [routerLink]="['/lection/', lection.lectionId]" (click)="setActiveChild('Lections')">{{lection.title}}</a></li>
          </ng-container>
        </ul>
      </li>
      <li>
        <div class="icon-link">
          <a routerLink="" (click)="setActiveChild('Posts')">
            <i class="bx bx-book-alt"></i>
            <span class="link_name">Posts</span>
          </a>
          <i class="bx bxs-chevron-down arrow" #arrow></i>
        </div>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="" (click)="setActiveChild('Posts')">Posts</a></li>
        </ul>
      </li>
      <li>
        <a routerLink="" (click)="setActiveChild('Analytics')">
          <i class="bx bx-pie-chart-alt-2"></i>
          <span class="link_name">Analytics</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="" (click)="setActiveChild('Analytics')">Analytics</a></li>
        </ul>
      </li>
      <li>
        <a routerLink="" (click)="setActiveChild('Chart')">
          <i class="bx bx-pie-chart-alt-2"></i>
          <span class="link_name">Chart</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="" (click)="setActiveChild('Chart')">Chart</a></li>
        </ul>
      </li>
      <li>
        <div class="icon-link" (click)="setActiveChild('Plugins')">
          <a routerLink="">
            <i class="bx bx-plug"></i>
            <span class="link_name">Plugins</span>
          </a>
          <i class="bx bxs-chevron-down arrow" #arrow></i>
        </div>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="" (click)="setActiveChild('Plugins')">Plugins</a></li>
        </ul>
      </li>
      <li>
        <a routerLink="workspaces" (click)="setActiveChild('Workspaces')">
          <i class="bx bx-compass"></i>
          <span class="link_name">Workspaces</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="workspaces" (click)="setActiveChild('Workspaces')">Workspaces</a></li>
        </ul>
      </li>
      <li>
        <a routerLink="" (click)="setActiveChild('History')">
          <i class="bx bx-history"></i>
          <span class="link_name">History</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" routerLink="" (click)="setActiveChild('History')">History</a></li>
        </ul>
      </li>
    </ul>
    @if(keycloak.isLoggedIn() || isDevMode()){
      <div class="profile-details">
        <div class="icon-link">
          <a routerLink="" (click)="setActiveChild('Profile')">
            <div class="profile-content">
              <img src="https://images.ctfassets.net/h6goo9gw1hh6/2sNZtFAWOdP1lmQ33VwRN3/24e953b920a9cd0ff2e1d587742a2472/1-intro-photo-final.jpg?w=1200&h=992&q=70&fm=webp" alt="profile">
            </div>
            <div class="name-job">
              <div class="profile_name">{{profileName}}</div>
              <div class="job">{{profileJob}}</div>
            </div>
          </a>
          <i class="bx bxs-chevron-down arrow" #arrow></i>
      </div>
        <ul class="sub-menu">
          <li><a class="link_name" routerLink="profile" (click)="setActiveChild('Profile')">Profile</a></li>
          <li><a routerLink="mylections" (click)="setActiveChild('My Lections')">My Lections</a></li>
          <li><a routerLink="" (click)="setActiveChild('Settings')">Settings</a></li>
          <li class="logout" (click)="logout()">Logout</li>
        </ul>
      </div>
    } @else {
      <div class="profile-details login">
        <div class="icon-link">
          <a (click)="login()">
            <div class="profile-content">
              <i class="bx bx-log-in"></i>
            </div>
            <div class="name-job">
              <div class="profile_name">Login</div>
            </div>
          </a>
        </div>
      </div>
    }
  </div>
</div>
<section class="home-section">
  <div class="home-menu">
    <i class="bx bx-menu" (click)="toggleSidebar()"></i>
    <span class="text">{{activeChildTitle}}</span>
  </div>
  <div class="home-content">
    <router-outlet></router-outlet>
  </div>

</section>


